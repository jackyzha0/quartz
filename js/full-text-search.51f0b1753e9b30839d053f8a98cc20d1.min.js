(async function(){const t=e=>e.toLowerCase().split(/([^a-z]|[^\x00-\x7F])/),n=new FlexSearch.Document({cache:!0,charset:"latin:extra",optimize:!0,index:[{field:"content",tokenize:"reverse",encode:t},{field:"title",tokenize:"forward",encode:t}]}),{content:e}=await fetchData;for(const[s,t]of Object.entries(e))n.add({id:s,title:t.title,content:removeMarkdown(t.content)});const s=t=>({id:t,url:t,title:e[t].title,content:e[t].content});registerHandlers(t=>{term=t.target.value;const o=n.search(term,[{field:"content",limit:10},{field:"title",limit:5}]),e=t=>{const e=o.filter(e=>e.field===t);return e.length===0?[]:[...e[0].result]},i=new Set([...e("title"),...e("content")]),a=[...i].map(s);displayResults(term,a,!0)})})()